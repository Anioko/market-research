{% extends 'layouts/base.html' %}
{# import 'macros/form_macros.html' as f #}



{% block scripts %}
{% endblock %}

{% block content %}
{% if current_user.is_respondent %}
    <div class="ui stackable centered grid container">
        <div class="twelve wide column">
                <a class="ui basic compact button" href="{{ url_for('question.index') }}">
                <i class="caret left icon"></i>
                Back to Questions Dashboard
            </a>
            <h2 class="ui header">
                {{ project.name }}
                <div class="sub header">Project's questions</div>
            </h2>

			{% for question in questions %}
				{% if screener_passed %}
					{% if question.question_type == "scale_questions" %}
						<div class="ui segment">
							<div class="ui right floated horizontal list">
							<a class="item" href="{{ url_for('answer.add_scale_answer', project_id=project.id, question_id=question.id, question=question.title) }}"><i class="eye icon"></i></a> 
							</div>
							<h3 class="ui left floated header">{{ question.title }}</h3>
							<div class="ui clearing divider"></div>
							<h5 class="ui header"></h5>
							<p>{{ question.description }}</p>
								{# if question.scale_answer #}
									<div class="ui divider"></div>
									<p> Answer: {# scale_answer.option #}</p>
								{# endif #}
						</div>
					{% elif question.question_type == "multiple_choice_questions" %}
							<div class="ui segment">
								<div class="ui right floated horizontal list">
								<a class="item" href="{{ url_for('answer.add_multiple_choice_answer', project_id=project.id, question_id=question.id, question=question.title) }}"><i class="eye icon"></i></a> 
								</div>
								<h3 class="ui left floated header">{{ question.title }}</h3>
								<div class="ui clearing divider"></div>
								<h5 class="ui header"></h5>
								<p>{{ question.description }}</p>
									{# if question.scale_answer #}
										<div class="ui divider"></div>
										<p> Answer: {# scale_answer.option #}</p>
									{# endif #}
							</div>
						{% elif question.question_type == "u_questions" %}
							<div class="ui segment">
								<div class="ui right floated horizontal list">
								<a class="item" href="{{ url_for('answer.add_custom_answer', project_id=project.id, question_id=question.id, question=question.title) }}"><i class="eye icon"></i></a> 
								</div>
								<h3 class="ui left floated header">{{ question.title }}</h3>
								<div class="ui clearing divider"></div>
								<h5 class="ui header"></h5>
								<p>{{ question.description }}</p>
									{# if question.scale_answer #}
										<div class="ui divider"></div>
										<p> Answer: {# scale_answer.option #}</p>
									{# endif #}
							</div>
					{% endif %}

				{% else %}
					{% if question.question_type == "screener_question" %}

						<div class="ui segment">
							<div class="ui right floated horizontal list">
							<a class="item" href="{{ url_for('answer.add_screener_answer', project_id=project.id, question_id=question.id, question=question.title) }}"><i class="eye icon"></i></a> 
							</div>
						<h3 class="ui left floated header">Screener Question : {{ question.title }}</h3>
						<div class="ui clearing divider"></div>
						<h5 class="ui header">{{ question.description }}</h5>
						{% if screener_answer %}
							<div class="ui divider"></div>
								<p> Answer: { screener_answer.answer_option_one}</p>
							</div>
						{% endif %}
						
					{% endif %}

				{% endif %}
		{% endfor %}

        </div>
    </div>
{% else %}
	<div class="ui text container">
	 <div class="ui placeholder segment">
	  <div class="ui icon header">
		<i class="user secret icon"></i>
		<h1> Only respondents can access this area</h1>
		<h3>You are either trying to access a protected page or the page doesn't exit. Use navigation bar to go back. </h3>
	  </div>
		</div>
	</div>
{% endif %}

{% endblock %}
